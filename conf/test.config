/*
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Nextflow config file for running minimal tests
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    Defines input files and everything required to run a fast and simple pipeline test.
    Use as follows:
        nextflow run main.nf -profile test,<docker/singularity>
----------------------------------------------------------------------------------------
*/

params {
    config_profile_name        = 'Test profile'
    config_profile_description = 'Minimal test dataset to check pipeline function'

    // Limit resources so that this can run on GitHub Actions
    

    // Input data
    indexfile = "$baseDir/test/test_index.csv"

    // Blastdb reference path
    blast_db_dir =  "$baseDir/test"
    spadesmem = '12'
    blastx = false
   
}

process {
  withName: denovo {
    memory = 8.GB
    time =  1.h
  }

  withName:blastn_nt_cap3 {
    cpus = 2
    memory = 8.GB
    time =  1.h
  }

  withName:covstats_nt {
    cpus = 2
    memory = 8.GB
    time =  1.h
  }

  withName:blastx {
    cpus = 2
    memory = 8.GB
    time =  1.h
  }

}
